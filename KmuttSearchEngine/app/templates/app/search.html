{% extends "app/layout.html" %}

{% block content %}

<div class="jumbotron">
    <h1>Search</h1>
    <p class="lead">Type anything to search</p>
    <form action="{% url 'search' %}" class="form-inline" method="POST">
        {% csrf_token %}
        <input name="search" type="text" class="form-control" id="search" placeholder="{{ Question }}">
        <button type="submit" class="btn-primary"> Search</button>
    </form>
</div>
<div class="jumbotron">
    {% if Correct is not None %}
    <p class="lead">It look like you have a wrong spelling</p>
    <form action="{% url 'search' %}" class="form-inline" method="POST">
        {% csrf_token %}
        <p class="lead" name="search">Do you want to search again with: <input type="submit" class="btn btn-link" name="search" value="{{Correct}}"/></p>
    </form>

    <h2>Result</h2>
    {{ Percentage }}
    <br/><br/>
    {% for result in query %}

    <h5>Question: {{ result.question }}</h5>
<div class="accordion" id="accordionExample">
    <div class="card">
        <div class="card-header" id="question1{{ result.id }}">
            <h5 class="mb-0">
                <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#question{{ result.id }}" aria-expanded="false" aria-controls="question{{ result.id }}">
                    Answer:
                </button>
            </h5>
        </div>

        <div id="question{{ result.id }}" class="collapse" aria-labelledby="question1{{ result.id }}" data-parent="#accordionExample">
            <div class="card-body">
                <span style="white-space: pre-line">
                    {% autoescape off %}
                    {{result.answer}}
                    {% endautoescape %}
                </span>
            </div>
        </div>
    </div>
    </div>
    {% endfor %}
    {% else %}
    <h2>Result</h2>
    {{ Percentage }}
    <br/><br/>
    {% for result in query %}

    <h5>Question: {{ result.question }}</h5>
    <h5>Answer: </h5>
    <span style="white-space: pre-line">
        {% autoescape off %}
        {{result.answer}}
        {% endautoescape %}
    </span>
    {% endfor %}
    {% endif %}
</div>
<p>
    <a href="https://www.djangoproject.com/" class="btn btn-primary btn-large">Learn more &raquo;</a>
</p>

<div class="row">
    <div class="col-md-4">
        <h2>Getting started</h2>
        <p>
            Django gives you a powerful, patterns-based way to build dynamic websites that
            enables a clean separation of concerns and gives you full control over markup
            for enjoyable, agile development.
        </p>
        <p>
            <a class="btn btn-default" href="https://djangobook.com/django-tutorials/">Learn more &raquo;</a>
        </p>
    </div>
    <div class="col-md-4">
        <h2>Get more libraries</h2>
        <p>The Python Package Index is a repository of software for the Python programming language.</p>
        <p>
            <a class="btn btn-default" href="https://pypi.org/">Learn more &raquo;</a>
        </p>
    </div>
    <div class="col-md-4">
        <h2>Microsoft Azure</h2>
        <p>You can easily publish to Microsoft Azure using Visual Studio. Find out how you can host your application using a free trial today.</p>
        <p>
            <a class="btn btn-default" href="http://azure.microsoft.com">Learn more &raquo;</a>
        </p>
    </div>
</div>

{% endblock %}